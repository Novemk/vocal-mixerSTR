<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>CETRO - 5.M.A [REIMAGINED]</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
  <div class="wrapper">
    <div class="container">
        <h2>.</h2>
        <p> 💛 請上傳清唱音檔（mp3 或 wav）🖤 </p>

        <label for="delayInput">人聲延遲（秒）：</label>
        <input type="number" id="delayInput" value="0" min="0" step="0.1" style="margin-bottom: 10px;">

        <input type="file" id="audioFile">
        <div class="btn-group">
            <button id="mp3Btn" class="active">MP3（較快完成）</button>
            <button id="mp4Btn">MP4（1:1影片）</button>
        </div>
        
       <button id="synthesizeBtn" onclick="startSynthesis()">開始合成</button>

        <!-- 合成進行中文字 -->
        <p id="processingStatus">混音合成中，需 1~2 分鐘內，請耐心等候。</p>

        <!-- 進度條與時間 -->
        <div class="progress-bar">
            <div id="progress" class="progress"></div>
        </div>
        <p id="timer">已經處理時間：0 秒</p>

        <div id="downloadSection"></div>

        <!-- ✅ 合成完成提示（像按鈕） -->
        <p id="status" class="download-btn" style="display: none;">合成完成！點我下載檔案</p>
    </div> <!-- container 結束 -->

   <footer class="credits">
    original lyricist/composer | 冰霧 Eisnebel<br>

    <a href="https://www.youtube.com/shorts/b7goxzEg4_M" target="_blank">
      ❄️ 5MA之歌 Shorts ver. | 冰霧 Eisnebel
    </a><br>
    beat | Soulkiller "Love Her"<br>
    lyricist/composer | Cetro<br>
    vocal | Cetro<br>
    rearrangement | Cetro<br>

    <a href="https://www.youtube.com/watch?v=4y3xEWOP7z4" target="_blank">
      Cetro - 5 M.A. (reimagined) [instrumental] ver.
    </a><br>

  <div class="karaoke-box">
    
  <a href="https://www.youtube.com/watch?v=r4zkYQK3_DM" target="_blank">
    🎤 5.M.A 卡拉OK字幕（附人聲版）
  </a>
  <a href="https://www.youtube.com/watch?v=CrIvDuYZ-hI" target="_blank">
    🎤 5.M.A 卡拉OK字幕（伴奏版）
  </a>
  </div>
       
  </footer>
  </div> <!-- wrapper 結束 -->

    <script src="/static/script.js"></script>

    <!-- 增加防呆機制 一次只能按一下-->
<script>
document.addEventListener("DOMContentLoaded", function () {
  const synthBtn = document.getElementById("synthesizeBtn");
  synthBtn.addEventListener("click", function () {
    // 如果按鈕已經被禁用，就不做事
    if (synthBtn.disabled) return;

    // 禁用按鈕（防呆）
    synthBtn.disabled = true;

    // 可選：改變文字（增加使用者回饋感）
    synthBtn.textContent = "合成中...";

    // 這裡是妳的合成請求邏輯，可以加 fetch、AJAX 或其他功能
    // 模擬合成延遲（例如 6 秒）
    setTimeout(function () {
      synthBtn.disabled = false;
      synthBtn.textContent = "開始合成";
    }, 6000);
  });
});
</script>


</body>
</html>
